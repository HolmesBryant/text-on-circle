/**
 *  @author Holmes Bryant <https://github.com/HolmesBryant>
 *  @license GPL-3.0
*/
export default class SlidingDoors extends HTMLElement{#t=!1;#e=".5s";#n="auto";container;themes={default:{tintOuter:"dimgray",tintMiddle:"lightgray 40%",tintInner:"white 90%"},light:{tintOuter:"rgb(220,220,220)",tintMiddle:"rgb(250,250,250) 40%",tintInner:"white 90%"},dark:{tintOuter:"rgb(40,40,40)",tintMiddle:"rgb(70,70,70) 40%",tintInner:"dimgray 90%"},auto:{}};wrapper;static observedAttributes=["active","speed","theme"];constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`\n\t\t\t<style>\n\t\t\t\t:host {\n\t\t\t\t\t--speed: ${this.speed};\n\t\t\t\t\t--tintOuter: ${this.themes.default.tintOuter};\n\t\t\t\t\t--tintMiddle: ${this.themes.default.tintMiddle};\n\t\t\t\t\t--tintInner: ${this.themes.default.tintInner};\n\n\t\t\t\t\tborder-radius: inherit;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttransition: all .5s;\n\t\t\t\t\theight: 100%;\n\t\t\t\t}\n\n\t\t\t\t::slotted(*) {\n\t\t\t\t\theight: 100%;\n\t\t\t\t\toverflow: auto;\n\t\t\t\t}\n\n\t\t\t\t@keyframes close {\n\t\t\t\t\t100% { z-index: 1; }\n\t\t\t\t}\n\n\t\t\t\t@keyframes open {\n\t\t\t\t\t100% { z-index: -1 }\n\t\t\t\t}\n\n\t\t\t\t#container {\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tposition: relative;\n\t\t\t\t}\n\n\t\t\t\t#container::before,\n\t\t\t\t#container::after {\n\t\t\t\t\tborder-width: 1px;\n\t\t\t\t\tborder-style: solid;\n\t\t\t\t\tborder-color: silver;\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tz-index: 1;\n\t\t\t\t}\n\n\t\t\t\t#container.shadow::before,\n\t\t\t\t#container.shadow::after {\n\t\t\t\t\tbox-shadow: 5px 5px 10px rgb(40,40,40);\n\t\t\t\t}\n\n\t\t\t\t#container.shadow::before {\n\t\t\t\t\tborder-width: 1px 0 1px 1px;\n\t\t\t\t}\n\n\t\t\t\t#container.shadow::after {\n\t\t\t\t\tborder-width: 1px 1px 1px 0;\n\t\t\t\t}\n\n\t\t\t\t#container::before {\n\t\t\t\t\tbackground-color: var(--tintOuter);\n\t\t\t\t\tbackground-image: linear-gradient(\n\t\t\t\t\t\tto right,\n\t\t\t\t\t\tvar(--tintOuter),\n\t\t\t\t\t\tvar(--tintMiddle),\n\t\t\t\t\t\tvar(--tintInner)\n\t\t\t\t\t);\n\t\t\t\t\tborder-width: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 100%;\n\t\t\t\t\ttransition: right var(--speed) ease-in;\n\t\t\t\t}\n\n\t\t\t\t#container::after {\n\t\t\t\t\tbackground-image: linear-gradient(\n\t\t\t\t\t\tto left,\n\t\t\t\t\t\tvar(--tintOuter),\n\t\t\t\t\t\tvar(--tintMiddle),\n\t\t\t\t\t\tvar(--tintInner)\n\t\t\t\t\t);\n\t\t\t\t\tborder-width: 0;\n\t\t\t\t\tleft: 100%;\n\t\t\t\t\tright: 0;\n\t\t\t\t\ttransition: left var(--speed) ease-in;\n\t\t\t\t}\n\n\t\t\t\t#effectLeft,\n\t\t\t\t#effectRight {\n\t\t\t\t\taspect-ratio: 1/1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 50%;\n\t\t\t\t\ttransition: all var(--speed) ease-in;\n\t\t\t\t\tz-index: 1;\n\t\t\t\t}\n\n\t\t\t\t#effectLeft {\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 100%;\n\t\t\t\t\ttransform: translateY(-50%) translateX(50%);\n\t\t\t\t\t-webkit-mask-image: linear-gradient( to right, white 50%, transparent 51% );\n\t\t\t\t\tmask-image: linear-gradient( to right, white 50%, transparent 51% );\n\t\t\t\t}\n\n\t\t\t\t#effectRight {\n\t\t\t\t\tleft: 100%;\n\t\t\t\t\tright: 0;\n\t\t\t\t\ttransform: translateY(-50%) translateX(-50%);\n\t\t\t\t\t-webkit-mask-image: linear-gradient( to left, white 50%, transparent 50% );\n\t\t\t\t\tmask-image: linear-gradient( to left, white 50%, transparent 50% );\n\t\t\t\t}\n\n\t\t\t\t#wrapper {\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tposition: relative;\n\t\t\t\t}\n\n\t\t\t\t#wrapper.active #effectLeft,\n\t\t\t\t#wrapper.active #container::before {\n\t\t\t\t\tright: 50%;\n\t\t\t\t}\n\n\t\t\t\t#wrapper.active #effectRight,\n\t\t\t\t#wrapper.active #container::after {\n\t\t\t\t\tleft: 50%;\n\t\t\t\t}\n\n\t\t\t\t#scrollable {\n\t\t\t\t\theight: inherit;\n\t\t\t\t\tscrollbar-gutter: stable both-edges;\n\t\t\t\t}\n\t\t\t</style>\n\n\t\t\t<div id="wrapper" part="wrapper">\n\t\t\t\t<div id="container" part="container">\n\t\t\t\t\t<div id="scrollable">\n\t\t\t\t\t\t<slot></slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id="effectLeft"><slot name="effectLeft"></slot></div>\n\t\t\t\t<div id="effectRight"><slot name="effectRight"></slot></div>\n\t\t\t</div>\n\t\t`,this.wrapper=this.shadowRoot.querySelector("#wrapper"),this.container=this.shadowRoot.querySelector("#container")}attributeChangedCallback(t,e,n){this[t]=n}connectedCallback(){const t=this.querySelector("*[slot=effect]");this.setEffect(t),this.active&&this.container.classList.add("shadow"),this.container.addEventListener("transitionstart",(()=>{this.active&&this.container.classList.add("shadow")})),this.container.addEventListener("transitionend",(()=>{this.active||this.container.classList.remove("shadow")}))}setEffect(t){if(!t)return;const e=t.cloneNode(!0);t.setAttribute("slot","effectLeft"),e.setAttribute("slot","effectRight"),this.append(e)}get active(){return this.#t}set active(t){switch(t){case"false":case null:case!1:t=!1,this.wrapper.classList.remove("active");break;default:t=!0,this.wrapper.classList.add("active")}this.#t=t}get speed(){return this.#e}set speed(t){isNaN(t)||(t+="s"),this.#e=t,this.style.setProperty("--speed",t)}get theme(){return this.#n}set theme(t){switch(t){case"auto":t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";break;case"light":case"dark":break;default:t="default"}this.#n=t;const e=this.themes[t];e&&(this.tintOuter=e.tintOuter,this.tintMiddle=e.tintMiddle,this.tintInner=e.tintInner,this.style.setProperty("--tintOuter",e.tintOuter),this.style.setProperty("--tintMiddle",e.tintMiddle),this.style.setProperty("--tintInner",e.tintInner))}}document.addEventListener("DOMContentLoaded",customElements.define("sliding-doors",SlidingDoors));
